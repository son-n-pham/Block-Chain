# Module 1: Blockchain defined: Bitcoin & Blockchain

## Bitcoin:
### The ledger
#### Linked timestamping
#### Merkle trees
### Byzantines fault tolerance
- Linked timestamping is not enough to resolve forks, which means some notes think block A is the latest while others think it is block B.
- Nakamoto asserts that the Proof-of-Work chain solves this problem
### Proof of Work
- Issue of PoW:
  - Using lots of electricity
  - Can only process a limited number of transactions simultaneously
### Putting all together - Incentive - Miner and mining
- Miners are constantly in a race with each other to find the next Proof-of-Work block
- Miner who solves the Proof-of-Work gets incentive.
- Because of monetary incentives, miners ensure each other's compliance with the protocol
- The transaction contains only public key of the participating parties.
  - Transaction transfer value from and to public keys, which are called address.

![image](https://user-images.githubusercontent.com/79841341/150671060-8b37cea6-47e1-49a3-9bae-7ec10d654912.png)

### Bitcoin vs Etherum Blockchains:

- Similarity
  - They both are public, decentralized peer-to-peer networks with their own tolken.
  - Both rely on crtoraphy
  - Both use digital ledger technology
- Difference
  Bitcoin | Ethereum
  -- | --
  Bitcoin is a decentralized payment system and a sotre of value. Bit coint is a database of all bitcoin transactions and tracks their ownership | Etherum is more than a payment system and allows smart contract and Dapps to be built on it
  
## 3 fundamental characteristics defining a blockchain

- Block chain is bitcoin's main invention.

- 2 fundamental blockchain properties:
  - Immutable records: Immutable ledger means we can trust it to be accurate
  - Distributed: protects the blockchain from network attacks.

- 2 primary components:
  - A decentralized network facilitating and verifying transactions
  - The immutable ledger that network maintains

- It is to answer: How can we collectively trust what happens online?

# Blockchain Structures

- Transactions form a block
- Blocks chain to each other
- Block goes through Concensus & Verify
- Concensus & verify are done by miner

## Single transaction in Bitcoin

Unspent Transaction Output (UTXO):
- Unique identifier of the transaction creating the UTXO
- Index of this UTXO in the transaction's output list
- Value
- Optional: Conditions under which output can be spent

Transaction (Tx):
- Reference number of the the current transactions
- Reference(s) to one or more input UTXOs
- Reference(s) to one or more output UTXOs newly generated by the current transaction
- Total input and output amount

Block:
- A block in Blockchain has a header and transactions

![image](https://user-images.githubusercontent.com/79841341/150681793-9508809d-0eba-44e7-93f9-e2bfc79f3bf3.png)

![image](https://user-images.githubusercontent.com/79841341/150681979-2208f2d4-6392-449e-bc85-070fefba536c.png)

![image](https://user-images.githubusercontent.com/79841341/150682192-9523c110-4d69-41da-9caa-bf140ef9b5c5.png)

## Basic Operations

Basic options
- Validation of transactions
- Gathering transactions for a block
- Broadcasting valid transactions & blocks
- Consensus on next block creation
- Chaining blocks

Participants:
- Participants initiate transaction
- Miner:
  - Works: Verify transaction, broadcast transactions, compete to create a block, reach consensus by validating block, broadcast new block, confirm transactions
  - Miners get incentive when the above work is completed.

## Beyond Bitcoin

### Smart Contract

### 3 types of blockchains:
#### Type 1: Only Cryptocurrency, ie. Bitcoin
#### Type 2: Currency and business logic, ie. Ethereum
#### Type 3: Only business logic, ie. Linux Hyperledger

### Blockchain Categories based on Access Limit:
#### Public
#### Private
#### Permission (Consortium)

# Module 2 - Etherum Blockchain

![image](https://user-images.githubusercontent.com/79841341/150802368-1e57ee83-7203-4ffe-a2a5-1e0c3a6ac242.png)

## Ethereum Smart Contract
- Add a layer of logic and computation onto the blockchain
- Allow execute the codes
- Enhance the basic transferability of bitcoin blockchain
- Code is written in Solidity
- Code is executed in Ethereum Virtual Machine
### Discuss the smart contract

### Illustrate Ethereum blockchain protocol, elements and operation
#### Ethereum Account

An Ethereum account has 4 fields:
- Nonce: a counter to ensure each transaction can be processed only once
- Ether balance
- Contract code, if present
- Storage (empty by default)

There are 2 types of account:
- Externally Owned Account (EOA):
  - Controlled by private key
  - Has no code
  - Person can send message from EOA by creating and signing a transaction
- Contract account:
  - Controlled by its contract code, which is activated when receiving a message.
  - Once being activated, contract account is allowed to read and write to internal storage, send other messages or create contract in turn

Contract in Ethereum:
- They are more like "autonomous agents"
- Live inside Ethereum execution environment
- Execute a specific piece of code when "poked" by a message or transaction
- Have direct control over its own ether balance, its own key/value store to keep track of persistent variables.

#### Messages and Transaction

Transaction:
- Defition: The signed data package storing a message to be sent from EOA
- Components:
  - Standard fields of any cryptocurrency:
    - The message's recipient
    - The sender's signature
    - The amount of ether to transfer from the sender to the recipient
  - An optional data field: has no function by default but has function/opcode
  - A STARTGAS value, which is the maxium number of computational steps which the transaction execution is allowed to take
  - A GASPRICE value, which is the fee the sender pays for each computational step

The last 2 components of transaction is for anti-denial of service model as it is preventing accidental or intentional infinite loops or other computational wastage in code.

Messages:
- Defition: Virtual objects that are never serialized and exist only in the Ethereum execution environment. Contracts have ability to send "messages" to other contract. Message is similar to transaction but produced only by contract and not external actor.
- Components:
  - The message's sender (implicit)
  - The message's recipient
  - The amount of ether to transfer alongside the message
  - An optional data field
  - A STARTGAS value

### Demonstrate concept of "gas"

# Algorithms & Techniques: 

## Public-Key Cryptography

## Hashing

Ethereum uses hashing to generate:
- Account addresses
- Digital signatures
- Transaction hash
- State hash
- Receipt hash
- Block header hash

## Transaction Integrity

What are required for the integrity of transaction:
- Secure & unique account address

![image](https://user-images.githubusercontent.com/79841341/151668182-b7c6de26-1e93-4824-bc86-5af598962c70.png)

- Authorization of the transaction by the sender through digital signing
- Verification of the content of the transactionis not modified

## Securing Blockchain

![image](https://user-images.githubusercontent.com/79841341/151668769-f41e3d75-774b-4d5a-8b6f-6241f261c828.png)

Purpose of block hash:
- Verification of the integrity of the blck and the transactions
- Formation of the "chain link" by embedding the preivous blcok hash in the current block header

# Trust Esstentials

Trust trail:
- Valid Tx
- Verify gas and resources
- Select set of Txs to create a block
- Execute Tx to get a new state
- Form a new block
- Work toward consensus
- New block added to chain and confirmed

# Temp
## The important features of Ethereum blockchain
## Algorithms and techniques enabling a blockchain
## Methods for realizing trust in a blockchain

## References:
https://bitcoin.org/bitcoin.pdf
https://ethereum.org/en/whitepaper/
https://medium.com/blockchain-review/how-does-the-blockchain-work-for-dummies-explained-simply-9f94d386e093
https://queue.acm.org/detail.cfm?id=3136559
https://blockgeeks.com/guides/what-is-blockchain-technology/
